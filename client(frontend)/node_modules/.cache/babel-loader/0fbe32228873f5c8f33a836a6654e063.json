{"ast":null,"code":"var _jsxFileName = \"/home/hammad/Development/DaysTech/VitaminLabs-Challenge/ttt-client/src/Components/Pages/ViewProduct.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './pages.css';\nimport { fetchProduct } from './../../store/actions';\n\nclass ViewProduct extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null,\n      product: null,\n      id: null\n    };\n\n    this.changePage = () => {\n      if (!this.state.user || this.state.user.error) {\n        this.props.history.push('/');\n      }\n    };\n  }\n\n  componentDidMount() {\n    const query = new URLSearchParams(this.props.location.search);\n    const id = query.get('id');\n    this.setState({\n      user: this.props.data.user,\n      id: id\n    }, () => {\n      this.changePage();\n      this.fetchProduct();\n    });\n  }\n\n  fetchProduct() {\n    if (this.state.user) {\n      if (this.state.user.token) {\n        this.setState({\n          loading: true\n        }, () => {\n          this.props.fetchProduct(this.state.id, this.state.user.token).then(() => {\n            this.setState({\n              loading: false,\n              product: this.props.data.product\n            });\n          });\n        });\n      }\n    }\n  }\n\n  renderLineItems() {\n    if (this.state.product.lineitems.length > 0) {\n      return this.state.product.lineitems.map(lineitem => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-md-4 mb-2\",\n          key: lineitem.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 23\n          }\n        }, \"Name:\"), \" \", lineitem.name, \" \", /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 52\n          }\n        }), /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 23\n          }\n        }, \"Description:\"), \" \", lineitem.description, \" \", /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 66\n          }\n        }), /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 23\n          }\n        }, \"Created At: \"), \" \", lineitem.created_at);\n      });\n    }\n  }\n\n  renderProduct() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 47\n        }\n      }));\n    } else {\n      if (this.state.product) {\n        if (this.state.product.error) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }\n          }, this.state.product.error);\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"product-tile\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"clearfix\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: `/product/edit?id=${this.state.product.product.id}`,\n          className: \"btn btn-info float-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }\n        }, \" Edit \"), /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }\n        }, this.state.product.product.name)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mb-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: `http://localhost:3000${this.state.product.product.image.url}`,\n          className: \"img-fluid\",\n          alt: this.state.name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mb-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }\n        }, \"Created At: \"), \" \", this.state.product.product.created_at), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mb-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }\n        }, \"Updated At: \"), \" \", this.state.product.product.updated_at), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mb-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }\n        }, \"Price: \"), \" $ \", this.state.product.product.price), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mb-4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }\n        }, \"Description: \"), \" \", this.state.product.product.description), /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }\n        }, \" Line Items \"), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }\n        }, this.renderLineItems()));\n      }\n    }\n  }\n\n  render() {\n    console.log(this.state.product);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-8 mb-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, this.renderProduct());\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => {\n  return {\n    data: state.Data\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchProduct\n})(ViewProduct);","map":{"version":3,"sources":["/home/hammad/Development/DaysTech/VitaminLabs-Challenge/ttt-client/src/Components/Pages/ViewProduct.js"],"names":["React","Link","connect","fetchProduct","ViewProduct","Component","state","user","product","id","changePage","error","props","history","push","componentDidMount","query","URLSearchParams","location","search","get","setState","data","token","loading","then","renderLineItems","lineitems","length","map","lineitem","name","description","created_at","renderProduct","image","url","updated_at","price","render","console","log","mapStateToProps","Data"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {connect} from 'react-redux';\n\nimport './pages.css'\n\nimport {fetchProduct} from './../../store/actions';\n\n\nclass ViewProduct extends React.Component{\n\n  state = {\n      user: null,\n      product: null,\n      id: null\n  }\n\n  componentDidMount(){\n    const query = new URLSearchParams(this.props.location.search);\n    const id = query.get('id');\n    this.setState({user: this.props.data.user, id: id}, () => {\n        this.changePage();\n        this.fetchProduct();\n    })\n  }\n\n  fetchProduct(){\n      if(this.state.user){\n          if(this.state.user.token){\n              this.setState({loading: true}, ()=>{\n                this.props.fetchProduct(this.state.id, this.state.user.token).then(()=>{\n                    this.setState({loading: false, product: this.props.data.product})\n                })\n              })  \n          }\n      }\n  }\n\n  changePage = () => {\n      if(!this.state.user || this.state.user.error){\n          this.props.history.push('/')\n      }\n  }\n\n  renderLineItems(){\n      if(this.state.product.lineitems.length>0){\n          return this.state.product.lineitems.map((lineitem)=>{\n              return (\n                  <div className=\"col-md-4 mb-2\" key={lineitem.id}>\n                      <b>Name:</b> {lineitem.name} <br/>\n                      <b>Description:</b> {lineitem.description} <br/>\n                      <b>Created At: </b> {lineitem.created_at}\n                  </div>\n              )\n          })\n      }\n  }\n\n\n  renderProduct(){\n    if(this.state.loading){\n      return <div className=\"col text-center\"><i className=\"fa fa-spinner fa-spin\"></i></div>\n    }else{\n        if(this.state.product){\n            if (this.state.product.error){\n                return (<div>{this.state.product.error}</div>)\n            }\n            return(\n                <div className=\"product-tile\"> \n                    <div className=\"clearfix\">\n                        <Link to={`/product/edit?id=${this.state.product.product.id}`} className=\"btn btn-info float-right\"> Edit </Link>\n                        <h2>{this.state.product.product.name}</h2>        \n                    </div>\n                    <div className=\"mb-1\">\n                        <img src={`http://localhost:3000${this.state.product.product.image.url}`} className=\"img-fluid\" alt={this.state.name} />\n                    </div>\n                    <div className=\"mb-1\">\n                        <b>Created At: </b> {this.state.product.product.created_at}\n                    </div>\n                    <div className=\"mb-1\">\n                        <b>Updated At: </b> {this.state.product.product.updated_at}\n                    </div>\n\n                    <div className=\"mb-1\">\n                        <b>Price: </b> $ {this.state.product.product.price}\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <b>Description: </b> {this.state.product.product.description}\n                    </div>\n\n                    <h4> Line Items </h4>\n                    <div className=\"row\">{this.renderLineItems()}</div>\n\n                    \n                </div>\n            )\n        }\n    }\n  }\n\n  render(){\n      console.log(this.state.product)\n    return(\n        <div className=\"container mt-8 mb-8\">\n            {this.renderProduct()}   \n        </div>\n    );\n  }\n  \n};\n\n\nconst mapStateToProps = state => {\n\treturn{\n        data: state.Data\n\t}\n};\n\n\nexport default connect(mapStateToProps, {fetchProduct})(ViewProduct);\n"]},"metadata":{},"sourceType":"module"}